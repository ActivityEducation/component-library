import{r as n,j as h}from"./iframe-DGiRyBXK.js";import{c as f}from"./emotion-styled-base.browser.esm-DOJJeMjc.js";import{c as V}from"./emotion-react.browser.esm-CRTluIfQ.js";const A=f("li",{target:"e5l3kk94"})("display:flex;align-items:center;padding:",e=>e.theme.spacing.sm," ",e=>e.theme.spacing.md,";cursor:pointer;font-family:",e=>e.theme.typography.fontFamily,";font-size:",e=>e.theme.typography.body.fontSize,";color:",e=>e.theme.colors.text.default,";text-align:left;transition:",e=>e.theme.transitions.fast,";white-space:nowrap;min-height:36px;&:hover:not(:disabled){background-color:",e=>e.theme.colors.neutral[95],";}",e=>e.isHighlighted&&`
      background-color: ${e.theme.colors.neutral[90]}; // Slightly darker background for highlight
      color: ${e.theme.colors.primary[40]}; // Primary color for highlighted text
    `,e=>e.isSelected&&`
      background-color: ${e.theme.colors.primary[95]}; // Light primary background for selected
      color: ${e.theme.colors.primary[10]}; // Darker text for selected
      font-weight: ${e.theme.typography.button.fontWeight}; // Bolder for selected
      // Add a checkmark icon or similar for selected state (example using character)
      &::after {
        content: '✔';
        margin-left: auto; // Push to the right
        color: ${e.theme.colors.primary[40]};
        font-size: 1.2em;
      }
    `,"&:disabled{opacity:0.6;cursor:not-allowed;color:",e=>e.theme.colors.neutral[50],";background-color:transparent;}"),S=({children:e,value:y,isSelected:m=!1,isHighlighted:b=!1,onOptionSelect:l,onClick:r,...a})=>{const v=w=>{a.disabled||(l?.(y),r?.(w))};return h.jsx(A,{role:"option","aria-selected":m,isSelected:m,isHighlighted:b,onClick:v,...a,children:e})},q=f("div",{target:"e5l3kk93"})("position:relative;display:inline-flex;font-family:",e=>e.theme.typography.fontFamily,";"),z=f("div",{target:"e5l3kk92"})("display:flex;justify-content:space-between;align-items:center;width:100%;height:48px;border:1px solid ",e=>e.theme.colors.border.default,";border-radius:",e=>e.theme.borderRadius.md,";background-color:",e=>e.theme.colors.background.surface,";color:",e=>e.theme.colors.text.default,";cursor:pointer;outline:none;transition:all 0.2s ease-in-out;box-sizing:border-box;padding:0 ",e=>e.theme.spacing.lg," 0 ",e=>e.theme.spacing.lg,";&:hover{border-color:",e=>e.theme.colors.border.strong,";}&:focus{border-color:",e=>e.theme.colors.border.focus,";box-shadow:0 0 0 2px ",e=>e.theme.colors.primary[90],";}",e=>e.disabled&&V("background-color:",e.theme.colors.neutral[95],";color:",e.theme.colors.neutral[60],";cursor:not-allowed;border-color:",e.theme.colors.neutral[80],";&:hover{border-color:",e.theme.colors.neutral[80],";}","")," span{flex-grow:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:",e=>e.theme.typography.body.fontSize,";color:inherit;}"),$=f("span",{target:"e5l3kk91"})("transition:transform 0.2s ease-in-out;transform:rotate(",e=>e.isOpen?"180deg":"0deg",");font-size:",e=>e.theme.typography.caption.fontSize,";color:",e=>e.theme.colors.text.default,";display:flex;align-items:center;justify-content:center;"),D=f("ul",{target:"e5l3kk90"})("position:absolute;top:100%;left:0;width:100%;background-color:",e=>e.theme.colors.background.surface,";border:1px solid ",e=>e.theme.colors.border.default,";border-radius:",e=>e.theme.borderRadius.md,";box-shadow:",e=>e.theme.shadows.md,";max-height:200px;overflow-y:auto;z-index:100;list-style:none;padding:",e=>e.theme.spacing.xs," 0;margin-top:",e=>e.theme.spacing.xs,";&::-webkit-scrollbar{display:none;}scrollbar-width:none;-ms-overflow-style:none;"),P=({value:e,defaultValue:y,onValueChange:m,placeholder:b,disabled:l=!1,children:r,id:a,style:v,...w})=>{const[o,c]=n.useState(!1),[T,R]=n.useState(e!==void 0?e:y),[s,p]=n.useState(T),g=n.useRef(null),k=n.useRef(null),d=e!==void 0?e:T,H=n.Children.toArray(r).find(t=>n.isValidElement(t)&&t.props.value===d)?.props.children||b,x=n.useCallback(t=>{l||(R(t),m?.(t),c(!1),p(t))},[m,l]),E=n.useCallback(()=>{if(!l){if(c(t=>!t),!o&&d)p(d);else if(!o&&!d&&n.Children.toArray(r).length>0){const t=n.Children.toArray(r).find(i=>n.isValidElement(i)&&!i.props.disabled);p(t?.props.value)}}},[l,o,d,r]);n.useEffect(()=>{const t=i=>{g.current&&!g.current.contains(i.target)&&c(!1)};return o?document.addEventListener("mousedown",t):document.removeEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[o]);const C=n.useCallback(t=>{const i=n.Children.toArray(r).filter(u=>n.isValidElement(u)&&!u.props.disabled);if(i.length===0)return;const O=i.findIndex(u=>u.props.value===s);switch(t.key){case"ArrowDown":t.preventDefault(),c(!0),p(i[(O+1)%i.length]?.props.value);break;case"ArrowUp":t.preventDefault(),c(!0),p(i[(O-1+i.length)%i.length]?.props.value);break;case"Enter":case" ":t.preventDefault(),o&&s?x(s):o||E();break;case"Escape":o&&(t.preventDefault(),c(!1),g.current?.focus());break;case"Tab":o&&c(!1);break;default:if(!o&&/^[a-zA-Z0-9]$/.test(t.key)){const u=t.key.toLowerCase(),N=i.find(I=>typeof I.props.children=="string"&&I.props.children.toLowerCase().startsWith(u));N&&(p(N.props.value),c(!0))}break}},[r,o,s,x,E]);return n.useEffect(()=>{o&&k.current&&s&&k.current.querySelector(`#${a||"select"}-option-${s}`)?.scrollIntoView({block:"nearest"})},[o,s,a]),h.jsxs(q,{ref:g,style:v,...w,children:[h.jsxs(z,{role:"combobox","aria-haspopup":"listbox","aria-expanded":o,"aria-controls":o?`${a||"select"}-listbox`:void 0,"aria-labelledby":a?`${a}-label`:void 0,onClick:E,onKeyDown:C,tabIndex:l?-1:0,isOpen:o,disabled:l,children:[h.jsx("span",{children:H}),h.jsx($,{isOpen:o,children:"▼"})," "]}),o&&h.jsx(D,{ref:k,role:"listbox",id:`${a||"select"}-listbox`,"aria-activedescendant":s?`${a||"select"}-option-${s}`:void 0,tabIndex:-1,children:n.Children.map(r,t=>n.isValidElement(t)&&t.type===S?n.cloneElement(t,{isSelected:t.props.value===d,isHighlighted:t.props.value===s||d===void 0&&t.props.value===n.Children.toArray(r).find(i=>n.isValidElement(i)&&i.type===S)?.props.value,onOptionSelect:x,id:`${a||"select"}-option-${t.props.value}`}):(console.warn("Select expects only Option components as children."),null))})]})};S.__docgenInfo={description:"An individual selectable item within a `Select` component's dropdown in the AscendUCore Design System.\nIt displays content and handles selection/highlighting states.\n\n```typescript\nimport { Option } from \"@activityeducation/component-library\";\n```\n\n## Justification\nThe `Option` component is a fundamental building block for dropdown menus, providing\na standardized visual and interactive representation for selectable choices. By being\na dedicated component, it ensures consistency in styling, hover effects, and active\nstates across all `Select` components in the application. It also encapsulates the\nlogic for communicating its selection to the parent `Select` component.\n\n## Acceptance Criteria\n- **GIVEN** an `Option` is rendered, **THEN** it should display its `children` content.\n- **GIVEN** `isSelected` is true, **THEN** the option should display a distinct\nselected state (e.g., different background/text color, checkmark).\n- **GIVEN** `isHighlighted` is true, **THEN** the option should display a distinct\nhighlighted state (e.g., different background/text color for keyboard navigation).\n- **WHEN** the `Option` is clicked, **THEN** the `onOptionSelect` callback should\nbe triggered with the `Option`'s `value`.\n- **GIVEN** `disabled` is true, **THEN** the option should be visually disabled\nand not clickable.\n\n## Example & Props",methods:[],displayName:"Option",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The content to be rendered inside the option (e.g., text, icon)."},disabled:{required:!1,tsType:{name:"boolean"},description:"If true, the option will be disabled."},value:{required:!0,tsType:{name:"string"},description:"The unique value associated with this option."},isSelected:{required:!1,tsType:{name:"boolean"},description:"Indicates if this option is currently selected. Managed by the parent Select.",defaultValue:{value:"false",computed:!1}},isHighlighted:{required:!1,tsType:{name:"boolean"},description:`Indicates if this option is currently highlighted (e.g., by keyboard navigation).
Managed by the parent Select.`,defaultValue:{value:"false",computed:!1}},onOptionSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"Callback function when the option is clicked. Managed by the parent Select.\nThis prop is renamed from `onSelect` to `onOptionSelect` to avoid type conflicts with\n`React.LiHTMLAttributes`.\n@param value The value of the clicked option."},css:{required:!1,tsType:{name:"SerializedStyles"},description:"Optional Emotion `css` prop for additional custom styles."}}};P.__docgenInfo={description:"The **Select** component provides a customizable dropdown menu for selecting a single\noption from a list. It acts as a controlled or uncontrolled component, managing its\ninternal state or responding to external `value` changes. It works in conjunction\nwith the `Option` component to display individual choices.\n\nThis component ensures an accessible and visually consistent selection experience\nacross the application, handling keyboard navigation, dropdown toggling, and\nvalue changes.\n\n```typescript\nimport { Select, Option } from \"@activityeducation/component-library\";\n```\n\n## Justification\nA standardized `Select` component is crucial for forms and interactive interfaces\nwhere users need to choose from a predefined set of options. It improves usability\nby providing a compact and organized way to present choices, preventing clutter\non the screen. By abstracting the complex logic of dropdown behavior, accessibility\n(ARIA attributes, keyboard navigation), and state management, it simplifies development\nand ensures a consistent user experience. Its integration with the `Option` component\nallows for flexible content within each selectable item.\n\n## Acceptance Criteria\n- **GIVEN** the `Select` is rendered, **THEN** it should display a trigger button\nwith the currently selected option's label or a placeholder.\n- **GIVEN** `defaultValue` is provided, **THEN** the `Select` should initially\ndisplay the option matching that value (uncontrolled behavior).\n- **GIVEN** `value` and `onValueChange` are provided, **THEN** the `Select` should\nbehave as a controlled component, with the displayed value determined by the `value` prop.\n- **WHEN** the trigger is clicked, **THEN** the dropdown list of `Option` components\nshould toggle visibility.\n- **WHEN** an `Option` within the dropdown is clicked, **THEN** the `Select`'s value\nshould update, the dropdown should close, and the `onValueChange` callback should be triggered.\n- **GIVEN** `disabled` is true, **THEN** the `Select` trigger should be visually\ndisabled and not interactive.\n- **WHEN** the dropdown is open, **THEN** keyboard navigation (ArrowUp, ArrowDown, Enter, Escape)\nshould allow users to highlight and select options, and close the dropdown.\n- **GIVEN** many `Option` children, **THEN** the dropdown should be vertically scrollable.\n- **WHEN** the `Select` loses focus, **THEN** the dropdown should close.\n\n## Example & Props",methods:[],displayName:"Select",props:{value:{required:!1,tsType:{name:"string"},description:"The current selected value of the select. Makes it a controlled component."},defaultValue:{required:!1,tsType:{name:"string"},description:"The initial selected value of the select. Makes it an uncontrolled component."},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:`Callback function when the selected value changes.
@param value The new selected value.`},placeholder:{required:!1,tsType:{name:"string"},description:"Placeholder text to display when no value is selected."},disabled:{required:!1,tsType:{name:"boolean"},description:`If true, the select will be disabled.
@default false`,defaultValue:{value:"false",computed:!1}},id:{required:!1,tsType:{name:"string"},description:"The unique ID for the select component, used for accessibility (aria-labelledby, etc.)."},css:{required:!1,tsType:{name:"SerializedStyles"},description:"Optional Emotion `css` prop for additional custom styles for the outer container."},children:{required:!0,tsType:{name:"union",raw:"React.ReactElement<OptionProps> | React.ReactElement<OptionProps>[]",elements:[{name:"ReactReactElement",raw:"React.ReactElement<OptionProps>",elements:[{name:"OptionProps"}]},{name:"Array",elements:[{name:"ReactReactElement",raw:"React.ReactElement<OptionProps>",elements:[{name:"OptionProps"}]}],raw:"React.ReactElement<OptionProps>[]"}]},description:"Children should be `Option` components."}}};export{S as O,P as S};
