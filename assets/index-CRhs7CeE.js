import{r as m,j as e,t,e as X}from"./iframe-DGiRyBXK.js";import{c as b}from"./emotion-styled-base.browser.esm-DOJJeMjc.js";import"./index-BpikmOZ9.js";import{B as D}from"./index-CAB9-Wky.js";import{C as P}from"./index-yh91TgFT.js";import"./index-BlA4Rr_0.js";import{F as Y}from"./index-HX1_eyUT.js";import"./index-0By1pHRY.js";import{I}from"./index-Cln6lCsR.js";import{I as z}from"./index-BTINV_SO.js";import{L as O,a as Z}from"./index-D7KQwtYm.js";import"./index-C-mCeCnK.js";import"./index-BIXc_CGl.js";import"./index-CUVKRhQC.js";import{S as J,O as k}from"./index-CdcOTgf7.js";import"./index-CPWD-0I-.js";import"./index-VFDZBhwq.js";import"./index-BCgh6xOq.js";import"./index-gsnUIZpb.js";import"./index-zCMwyGe9.js";import{T as U,a as K}from"./index-BBibW3za.js";import"./index-Cyd7v3sM.js";import"./index-D5b8DDDm.js";import"./index-DgveVWDN.js";import"./ObjectiveProgress-BhJ5qdat.js";import"./UpcomingDeadlines-DMSv60oA.js";const Q=b("div",{target:"e1chexqt2"})("max-height:400px;overflow-y:auto;position:relative;background-color:",t.colors.background.surface,";border-radius:",t.borderRadius.md,";box-shadow:",t.shadows.sm,";width:100%;box-sizing:border-box;&::-webkit-scrollbar{display:none;}scrollbar-width:none;-ms-overflow-style:none;"),ee=b(Z,{target:"e1chexqt1"})("cursor:default;padding:",t.spacing.sm," ",t.spacing.md,";font-size:",t.typography.bodySmall.fontSize,";line-height:",t.typography.bodySmall.lineHeight,";color:",t.colors.text.default,";width:100%;transition:background-color 0.2s ease-in-out,color 0.2s ease-in-out;border-bottom:1px solid ",t.colors.neutral[90],";&:last-child{border-bottom:none;}",d=>d.isActive&&`
    background-color: ${d.theme.colors.primary[95]}; /* Light primary background for active */
    color: ${d.theme.colors.primary[10]};            /* Dark text on active highlight */
    font-weight: ${d.theme.typography.body.fontWeight}; /* Slightly bolder */
  `,";"),te=b("div",{target:"e1chexqt0"})("display:flex;flex-direction:column;align-items:center;justify-content:center;padding:",t.spacing.lg,";text-align:center;width:100%;color:",t.colors.neutral[60],";",t.typography.bodySmall,";min-height:150px;"),ie=({transcript:d,currentTime:h,...r})=>{const s=m.useRef(null),p=d.find(o=>h>=o.start&&h<o.end);return m.useEffect(()=>{s.current&&s.current.scrollIntoView({behavior:"smooth",block:"center"})},[p]),e.jsx(Q,{...r,children:e.jsx(P,{title:"Transcript",header:e.jsx(I,{name:"fa-solid fa-closed-captioning",size:"lg",color:t.colors.primary[50]}),style:{boxShadow:"none",borderRadius:"0",border:"none",padding:0},children:d.length>0?e.jsx(O,{style:{boxShadow:"none",borderRadius:"0"},children:d.map(o=>e.jsx(ee,{ref:p&&p.id===o.id?s:null,isActive:p?.id===o.id,children:o.text},o.id))}):e.jsxs(te,{children:[e.jsx(I,{name:"fa-solid fa-file-alt",size:"xl"}),e.jsx("p",{children:"No transcript available."})]})})})};ie.__docgenInfo={description:`The **Transcript** component is designed to display the textual content of a video or audio
file, providing a synchronized and accessible way for users to follow along with spoken
content. It automatically highlights the currently active segment (e.g., a sentence)
based on the provided \`currentTime\` and ensures that the active segment is always
scrolled into view, enhancing readability and user experience.

\`\`\`typescript
import { Transcript } from "@activityeducation/component-library";
\`\`\`

## Justification
In an educational or content consumption platform, a transcript component is crucial for
accessibility, comprehension, and navigation. It caters to diverse learning styles,
allowing users to read along, review specific sections, or quickly locate information
within a video. For users with hearing impairments, it provides essential access to
the audio content. For all users, it aids in retention and understanding by presenting
information in both auditory and visual formats. The auto-scrolling and highlighting
features ensure a seamless and intuitive experience, directly linking the text to the
playback, which is vital for effective learning and content review.

## Acceptance Criteria
- **GIVEN** a transcript is provided, **WHEN** the \`currentTime\` updates, **THEN** the
corresponding transcript segment should be highlighted.
- **GIVEN** the active transcript segment changes, **THEN** the component should
automatically scroll to bring the active segment into view.
- **GIVEN** an empty \`transcript\` array is provided, **THEN** an appropriate "No transcript
available" empty state message should be displayed.
- **GIVEN** a long transcript, **THEN** the component should be scrollable, allowing
users to view all segments.
- **GIVEN** the component is rendered, **THEN** the header should display "Transcript"
along with a closed-captioning icon for clear identification.

## Example & Props`,methods:[],displayName:"Transcript",props:{transcript:{required:!0,tsType:{name:"Array",elements:[{name:"TranscriptSegment"}],raw:"TranscriptSegment[]"},description:"An array of transcript segments to display.\nEach segment should have a unique `id`, `text`, `start`, and `end` timestamp."},currentTime:{required:!0,tsType:{name:"number"},description:`The current playback time of the video in seconds.
This is used to determine which segment to highlight.`},css:{required:!1,tsType:{name:"SerializedStyles"},description:"Optional Emotion `css` prop for additional custom styles for the outer container."}}};const q=({fields:d,setFields:h,readOnly:r})=>{const[s,p]=m.useState(""),[o,u]=m.useState("text"),a=()=>{s.trim()&&!r&&(h(n=>[...n,{id:`field_${Date.now()}`,name:s.trim(),type:o}]),p(""))},x=n=>{r||h(v=>v.filter(F=>F.id!==n))};return e.jsxs("div",{children:[e.jsx("h3",{style:t.typography.h5,children:"Fields"}),!r&&e.jsxs(e.Fragment,{children:[e.jsx(z,{label:"Field Name",value:s,onChange:n=>p(n.target.value),placeholder:"e.g., Term, Definition"}),e.jsxs(J,{value:o,onValueChange:n=>u(n),style:{marginTop:t.spacing.sm,width:"100%"},children:[e.jsx(k,{value:"text",children:"Text"}),e.jsx(k,{value:"image",children:"Image"}),e.jsx(k,{value:"audio",children:"Audio"}),e.jsx(k,{value:"icon",children:"Icon"})]}),e.jsx(D,{onClick:a,variant:"primary",size:"sm",style:{marginTop:t.spacing.md,width:"100%"},children:"Add Field"})]}),e.jsx("h4",{style:t.typography.h6,children:"Available Fields"}),d.length>0?d.map(n=>e.jsxs("div",{draggable:!r,onDragStart:v=>{v.dataTransfer.setData("fieldId",n.id)},style:{padding:t.spacing.sm,border:`1px solid ${t.colors.border.default}`,borderRadius:t.borderRadius.sm,marginBottom:t.spacing.xs,cursor:r?"default":"grab",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("span",{children:[n.name," (",n.type,")"]}),!r&&e.jsx(D,{variant:"icon",size:"sm",onClick:()=>x(n.id),title:"Delete Field",children:e.jsx(I,{name:"fa-solid fa-trash",size:"sm"})})]},n.id)):e.jsx("p",{style:t.typography.caption,children:"No fields defined."})]})};q.__docgenInfo={description:"Panel for managing field definitions (add, rename, delete)",methods:[],displayName:"FieldDefinitionPanel",props:{fields:{required:!0,tsType:{name:"Array",elements:[{name:"EduFieldDefinition"}],raw:"EduFieldDefinition[]"},description:""},setFields:{required:!0,tsType:{name:"signature",type:"function",raw:"(fields: EduFieldDefinition[] | ((prevFields: EduFieldDefinition[]) => EduFieldDefinition[])) => void",signature:{arguments:[{type:{name:"union",raw:"EduFieldDefinition[] | ((prevFields: EduFieldDefinition[]) => EduFieldDefinition[])",elements:[{name:"Array",elements:[{name:"EduFieldDefinition"}],raw:"EduFieldDefinition[]"},{name:"unknown"}]},name:"fields"}],return:{name:"void"}}},description:""},readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const T=8,y=8,w=d=>Math.round(d/T)*T,ne=b("div",{target:"e2iejtf5"})("display:flex;background-color:",t.colors.background.default,";border-radius:",t.borderRadius.lg,";border:1px solid ",t.colors.border.default,";overflow:hidden;height:80vh;min-height:600px;font-family:",t.typography.fontFamily,";@media (max-width: ",t.breakpoints.md,"){flex-direction:column;height:auto;}"),oe=b("div",{target:"e2iejtf4"})("width:300px;flex-shrink:0;border-right:1px solid ",t.colors.border.default,";display:flex;flex-direction:column;background-color:",t.colors.background.toolbar,";padding:",t.spacing.md,";overflow-y:auto;@media (max-width: ",t.breakpoints.md,"){width:100%;border-right:none;border-bottom:1px solid ",t.colors.border.default,";}"),ae=b("div",{target:"e2iejtf3"})("flex-grow:1;display:flex;flex-direction:column;padding:",t.spacing.md,";position:relative;"),re=b("div",{target:"e2iejtf2"})("position:relative;background-color:",t.colors.background.default,";border:2px dashed ",t.colors.border.default,";border-radius:",t.borderRadius.md,";height:400px;width:100%;max-width:656px;margin-inline:auto;box-shadow:",t.shadows.sm,`;overflow:hidden;background-image:linear-gradient(
      to right,
      `,t.colors.neutral[95],` 1px,
      transparent 1px
    ),linear-gradient(to bottom, `,t.colors.neutral[95]," 1px, transparent 1px);background-size:",T,"px ",T,"px;"),H=b("div",{target:"e2iejtf1"})("position:absolute;padding:",t.spacing.sm,";border:1px solid ",t.colors.primary[80],";background-color:rgba(228, 243, 255, 0.7);color:",t.colors.primary[10],";font-size:",t.typography.bodySmall.fontSize,";border-radius:",t.borderRadius.sm,";cursor:grab;user-select:none;display:flex;align-items:center;justify-content:center;box-sizing:border-box;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;z-index:10;transition:border-color 0.2s ease-in-out;&:hover{border-color:",t.colors.primary[50],";}"),A=b("div",{target:"e2iejtf0"})("position:absolute;width:10px;height:10px;background-color:",t.colors.primary[60],";border:1px solid ",t.colors.background.default,";border-radius:50%;z-index:20;&.bottom-right{bottom:-5px;right:-5px;cursor:se-resize;}"),se=({initialModelData:d,onSave:h,readOnly:r=!1})=>{const[s,p]=m.useState(d||{id:`model_${Date.now()}`,name:"",summary:"","edu:fields":[],"edu:cardTemplates":[{id:"front",name:"Front",layout:[]},{id:"back",name:"Back",layout:[]}]}),[o,u]=m.useState("Front"),[a,x]=m.useState({type:null,fieldId:null}),[n,v]=m.useState(null),F=m.useRef(null),G=i=>{p(l=>({...l,"edu:fields":typeof i=="function"?i(l["edu:fields"]):i}))},j=s["edu:cardTemplates"].find(i=>i.name===o),L=i=>{if(i.preventDefault(),r)return;const l=i.dataTransfer.getData("fieldId");if(!l||j.layout.some(M=>M.fieldId===l))return;const c=F.current.getBoundingClientRect(),f=i.clientX-c.left,g=i.clientY-c.top,S={fieldId:l,x:w(Math.max(y,f-75)),y:w(Math.max(y,g-25)),width:160,height:64};C([...j.layout,S])},E=(i,l,c)=>{if(r||i.button!==0)return;i.stopPropagation();const f=j.layout.find(S=>S.fieldId===l);if(!f)return;v(f);const g=c==="resize"?i.currentTarget.parentElement:i.currentTarget;x({type:c,fieldId:l,offsetX:i.clientX-g.getBoundingClientRect().left,offsetY:i.clientY-g.getBoundingClientRect().top})},V=i=>{if(r||!a.type||!a.fieldId||!n)return;i.preventDefault();const l=F.current.getBoundingClientRect();if(a.type==="move"){let c=i.clientX-l.left-a.offsetX,f=i.clientY-l.top-a.offsetY;c=Math.max(y,Math.min(c,l.width-n.width-y)),f=Math.max(y,Math.min(f,l.height-n.height-y)),v(g=>g?{...g,x:c,y:f}:null)}else if(a.type==="resize"){let c=i.clientX-l.left-n.x,f=i.clientY-l.top-n.y;c=Math.max(T*2,Math.min(c,l.width-n.x-y)),f=Math.max(T*2,Math.min(f,l.height-n.y-y)),v(g=>g?{...g,width:c,height:f}:null)}},N=()=>{if(r||!a.type||!a.fieldId||!n)return;const i=F.current.getBoundingClientRect();let l=w(n.x),c=w(n.y),f=w(n.width),g=w(n.height);l=Math.max(y,l),c=Math.max(y,c),l+f>i.width-y&&(f=w(i.width-y-l)),c+g>i.height-y&&(g=w(i.height-y-c));const S={...n,x:l,y:c,width:Math.max(T*2,f),height:Math.max(T*2,g)},M=j.layout.map(R=>R.fieldId===a.fieldId?S:R);C(M),x({type:null,fieldId:null}),v(null)},C=i=>{p(l=>({...l,"edu:cardTemplates":l["edu:cardTemplates"].map(c=>c.name===o?{...c,layout:i}:c)}))},W=()=>{const i={...s,"edu:stylingCSS":"/* CSS would be generated here */"};h(i)},$=m.useMemo(()=>j.layout.filter(i=>i.fieldId!==a.fieldId),[j.layout,a.fieldId]);return e.jsxs(ne,{children:[e.jsxs(oe,{children:[e.jsx("h2",{style:{...t.typography.h4,marginTop:0},children:"Flashcard Template"}),r?e.jsxs(e.Fragment,{children:[e.jsx("h3",{style:{...t.typography.h6,margin:0},children:s.name}),e.jsx("p",{children:s.summary})]}):e.jsxs("div",{style:{marginBottom:t.spacing.md},children:[e.jsx(z,{label:"Model Name",value:s.name,onChange:i=>p({...s,name:i.target.value}),placeholder:"e.g., Vocabulary Card"}),e.jsx(z,{label:"Summary",value:s.summary||"",onChange:i=>p({...s,summary:i.target.value}),placeholder:"A brief description",style:{marginTop:t.spacing.sm}})]}),e.jsx(q,{fields:s["edu:fields"],setFields:G,readOnly:r})]}),e.jsxs(ae,{children:[e.jsxs(U,{style:{justifyContent:"space-between",flexShrink:0,marginBottom:t.spacing.sm,backgroundColor:"white"},children:[e.jsx(K,{children:e.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>u(o==="Back"?"Front":"Back"),style:{display:"flex",gap:"0.5rem"},active:o==="Front",children:[e.jsx(I,{name:"fa-solid fa-rotate",size:"sm"}),e.jsx("span",{children:o})]})}),!r&&e.jsx(D,{onClick:W,variant:"primary",size:"sm",children:"Save"})]}),e.jsxs(re,{ref:F,onDrop:L,onDragOver:i=>i.preventDefault(),onMouseMove:V,onMouseUp:N,onMouseLeave:N,children:[$.map(i=>{const l=s["edu:fields"].find(c=>c.id===i.fieldId);return l?e.jsxs(H,{style:{left:i.x,top:i.y,width:i.width,height:i.height},onMouseDown:c=>E(c,i.fieldId,"move"),children:[l.name,!r&&e.jsx(A,{className:"bottom-right",onMouseDown:c=>E(c,i.fieldId,"resize")})]},i.fieldId):null}),n&&e.jsxs(H,{style:{left:n.x,top:n.y,width:n.width,height:n.height},onMouseDown:i=>E(i,n.fieldId,"move"),children:[s["edu:fields"].find(i=>i.id===n.fieldId)?.name,!r&&e.jsx(A,{className:"bottom-right",onMouseDown:i=>E(i,n.fieldId,"resize")})]})]})]})]})};se.__docgenInfo={description:"The main editor component",methods:[],displayName:"FlashcardModelEditor",props:{initialModelData:{required:!1,tsType:{name:"EduFlashcardModel"},description:""},onSave:{required:!0,tsType:{name:"signature",type:"function",raw:"(updatedModel: EduFlashcardModel) => void",signature:{arguments:[{type:{name:"EduFlashcardModel"},name:"updatedModel"}],return:{name:"void"}}},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const B=633,de=400,le=12,ce=48,pe=b("div",{target:"e1gp3n793"})("width:100%;aspect-ratio:",B,"/",de,";position:relative;overflow:hidden;background-color:",t.colors.background.default,";border-radius:",t.borderRadius.lg,";box-shadow:",t.shadows.md,";border:1px solid ",t.colors.border.default,";"),he=b("div",{target:"e1gp3n792"})({name:"g6papy",styles:"position:absolute;box-sizing:border-box;display:flex;justify-content:center;align-items:center;padding:8px;overflow:hidden"}),me=b("img",{target:"e1gp3n791"})({name:"ukfjzf",styles:"width:100%;height:100%;object-fit:contain"}),ue=b("div",{target:"e1gp3n790"})({name:"fp0290",styles:"width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center;word-break:break-word;overflow-wrap:break-word;hyphens:auto"}),fe=(d,h,r)=>{const[s,p]=m.useState(100);return m.useEffect(()=>{if(h.current&&d){const o=h.current,u=!d.includes(" ");u?o.style.whiteSpace="nowrap":o.style.whiteSpace="normal";let a=ce*r;for(o.style.fontSize=`${a}px`;(o.scrollHeight>o.clientHeight||o.scrollWidth>o.clientWidth)&&a>le;)a--,o.style.fontSize=`${a}px`;u&&(o.style.whiteSpace="normal"),p(a)}},[d,h,r]),s},_=X.forwardRef(({template:d,model:h,data:r,scale:s},p)=>e.jsx(pe,{ref:p,children:d.layout.map(o=>{const u=h["edu:fields"].find(n=>n.id===o.fieldId),a=r["edu:fieldsData"][u?.name||""];if(!u||!a)return null;const x={left:`${o.x*s}px`,top:`${o.y*s}px`,width:`${o.width*s}px`,height:`${o.height*s}px`};return e.jsxs(he,{style:x,children:[u.type==="text"&&e.jsx(ge,{text:a,scale:s}),u.type==="image"&&e.jsx(me,{src:a,alt:u.name}),u.type==="icon"&&e.jsx(I,{name:a,size:"lg"})]},o.fieldId)})})),ge=({text:d,scale:h})=>{const r=m.useRef(null),s=fe(d,r,h),[p,o]=m.useState(!1);return m.useEffect(()=>{const a=setTimeout(()=>{if(r.current){const x=r.current,n=x.scrollHeight>x.clientHeight||x.scrollWidth>x.clientWidth;o(n)}},50);return()=>clearTimeout(a)},[s,d,h,r]),e.jsx(ue,{ref:r,style:{fontSize:`${s}px`,textOverflow:"ellipsis",overflow:"hidden"},title:p?d:void 0,children:d})},ye=({model:d,data:h})=>{const[r,s]=m.useState(1),p=m.useRef(null);m.useEffect(()=>{const a=new ResizeObserver(x=>{const n=x[0];if(n){const v=n.contentRect.width/B;s(v)}});return p.current&&a.observe(p.current),()=>a.disconnect()},[]);const o=d["edu:cardTemplates"].find(a=>a.name==="Front"),u=d["edu:cardTemplates"].find(a=>a.name==="Back");return!o||!u?null:e.jsx("div",{ref:p,style:{width:"100%"},children:e.jsx(Y,{flipOnClick:!0,front:e.jsx(_,{template:o,model:d,data:h,scale:r}),back:e.jsx(_,{template:u,model:d,data:h,scale:r})})})};ye.__docgenInfo={description:`The **Flashcard** component is designed to render interactive flashcards based on
a provided data model (\`FlashcardModel\`) and specific card data (\`FlashcardData\`).
It leverages the \`Flipper\` component to enable a 3D flip animation, allowing users
to switch between the front and back of the card. The component dynamically scales
its content, including text fields, to fit the card's dimensions, ensuring readability
across different sizes.

This component is ideal for educational applications, language learning, or any
scenario requiring a digital flashcard experience.

\`\`\`typescript
import { Flashcard } from "@activityeducation/component-library";
\`\`\`

## Justification
Flashcards are a highly effective tool for active recall and spaced repetition,
crucial for memorization and learning. A dedicated \`Flashcard\` component provides
a standardized, interactive, and visually appealing implementation of this learning
aid. Its ability to dynamically render content based on a flexible model allows for
diverse types of flashcards (e.g., text-based, image-based). The integrated flip
animation enhances engagement, while dynamic font sizing ensures content always
fits and remains legible, improving the overall learning experience.

## Acceptance Criteria
- **GIVEN** a \`Flashcard\` component is rendered with \`model\` and \`data\` props,
**THEN** it should display the content defined by the \`Front\` template of the model.
- **WHEN** the \`Flashcard\` is clicked, **THEN** it should flip to reveal the
content defined by the \`Back\` template of the model.
- **WHEN** the component's container is resized, **THEN** the content (including
text and images) within the card should dynamically scale to fit the new dimensions
while maintaining its aspect ratio.
- **GIVEN** a text field's content is too long for its allocated space, **THEN**
its font size should dynamically decrease to fit, down to a minimum readable size.
If still overflowing, it should show ellipsis and a title attribute for full text.
- **GIVEN** the \`Flashcard\` component, **THEN** it should correctly render different
field types (text, image, icon) as defined in the \`FlashcardModel\` and \`FlashcardData\`.

## Example & Props`,methods:[],displayName:"Flashcard",props:{model:{required:!0,tsType:{name:"FlashcardModel"},description:""},data:{required:!0,tsType:{name:"FlashcardData"},description:""}}};export{ye as F,ie as T,se as a};
