import{r as u,j as t,t as e}from"./iframe-RAegngwO.js";import{c as h}from"./emotion-styled-base.browser.esm-DWA-sfXA.js";import"./index-DcOZjY6o.js";import{B as w}from"./index-BnQmYvSi.js";import{C as z}from"./index-DWXvOp7D.js";import"./index-GabRFj8p.js";import"./index-kdhhg-c0.js";import"./index-DuHLCdk5.js";import{I as j}from"./index-NNVB_gfa.js";import{I as S}from"./index-CXityV_I.js";import{L as q,a as B}from"./index-OwN0jeKn.js";import"./index-CPEYOHTN.js";import"./index-ClUEGz-i.js";import"./index-Y42uZfEs.js";import{S as A,O as D}from"./index-vkqWKmtU.js";import"./index-DZA0DCEN.js";import"./index-ChMzI1xi.js";import"./index-DkYDd8W1.js";import"./index-CG6TXRuF.js";import"./index-BZhcbk5r.js";import{T as N,a as L}from"./index-MIPEWIuK.js";import"./index-CgcAu24l.js";import"./index-ByT7Ll--.js";import"./index-y_v0PwZF.js";import"./ObjectiveProgress-B--CfOzz.js";import"./UpcomingDeadlines-DNp6DzMP.js";const _=h("div",{target:"e1chexqt2"})("max-height:400px;overflow-y:auto;position:relative;background-color:",e.colors.background.surface,";border-radius:",e.borderRadius.md,";box-shadow:",e.shadows.sm,";width:100%;box-sizing:border-box;&::-webkit-scrollbar{display:none;}scrollbar-width:none;-ms-overflow-style:none;"),X=h(B,{target:"e1chexqt1"})("cursor:default;padding:",e.spacing.sm," ",e.spacing.md,";font-size:",e.typography.bodySmall.fontSize,";line-height:",e.typography.bodySmall.lineHeight,";color:",e.colors.text.default,";width:100%;transition:background-color 0.2s ease-in-out,color 0.2s ease-in-out;border-bottom:1px solid ",e.colors.neutral[90],";&:last-child{border-bottom:none;}",s=>s.isActive&&`
    background-color: ${s.theme.colors.primary[95]}; /* Light primary background for active */
    color: ${s.theme.colors.primary[10]};            /* Dark text on active highlight */
    font-weight: ${s.theme.typography.body.fontWeight}; /* Slightly bolder */
  `,";"),Y=h("div",{target:"e1chexqt0"})("display:flex;flex-direction:column;align-items:center;justify-content:center;padding:",e.spacing.lg,";text-align:center;width:100%;color:",e.colors.neutral[60],";",e.typography.bodySmall,";min-height:150px;"),$=({transcript:s,currentTime:g,...a})=>{const o=u.useRef(null),c=s.find(d=>g>=d.start&&g<d.end);return u.useEffect(()=>{o.current&&o.current.scrollIntoView({behavior:"smooth",block:"center"})},[c]),t.jsx(_,{...a,children:t.jsx(z,{title:"Transcript",header:t.jsx(j,{name:"fa-solid fa-closed-captioning",size:"lg",color:e.colors.primary[50]}),style:{boxShadow:"none",borderRadius:"0",border:"none",padding:0},children:s.length>0?t.jsx(q,{style:{boxShadow:"none",borderRadius:"0"},children:s.map(d=>t.jsx(X,{ref:c&&c.id===d.id?o:null,isActive:c?.id===d.id,children:d.text},d.id))}):t.jsxs(Y,{children:[t.jsx(j,{name:"fa-solid fa-file-alt",size:"xl"}),t.jsx("p",{children:"No transcript available."})]})})})};$.__docgenInfo={description:"The Transcript component displays a video transcript, highlighting the sentence\nthat is currently being spoken based on the provided `currentTime`.\nIt automatically scrolls the active sentence into view.",methods:[],displayName:"Transcript",props:{transcript:{required:!0,tsType:{name:"Array",elements:[{name:"TranscriptSegment"}],raw:"TranscriptSegment[]"},description:"An array of transcript segments to display.\nEach segment should have a unique `id`, `text`, `start`, and `end` timestamp."},currentTime:{required:!0,tsType:{name:"number"},description:`The current playback time of the video in seconds.
This is used to determine which segment to highlight.`},css:{required:!1,tsType:{name:"SerializedStyles"},description:"Optional Emotion `css` prop for additional custom styles for the outer container."}}};const C=({fields:s,setFields:g,readOnly:a})=>{const[o,c]=u.useState(""),[d,b]=u.useState("text"),y=()=>{o.trim()&&!a&&(g(l=>[...l,{id:`field_${Date.now()}`,name:o.trim(),type:d}]),c(""))},m=l=>{a||g(p=>p.filter(T=>T.id!==l))};return t.jsxs("div",{children:[t.jsx("h3",{style:e.typography.h5,children:"Fields"}),!a&&t.jsxs("div",{style:{marginBottom:e.spacing.md},children:[t.jsx(S,{label:"Field Name",value:o,onChange:l=>c(l.target.value),placeholder:"e.g., Term, Definition"}),t.jsxs(A,{value:d,onValueChange:l=>b(l),style:{marginTop:e.spacing.sm,width:"100%"},children:[t.jsx(D,{value:"text",children:"Text"}),t.jsx(D,{value:"image",children:"Image"}),t.jsx(D,{value:"audio",children:"Audio"})]}),t.jsx(w,{onClick:y,variant:"primary",size:"sm",style:{marginTop:e.spacing.md,width:"100%"},children:"Add Field"})]}),!a&&t.jsx("h4",{style:e.typography.h6,children:"Available Fields"}),t.jsx("div",{children:s.length>0?s.map(l=>t.jsxs("div",{draggable:!a,onDragStart:p=>{p.dataTransfer.setData("fieldId",l.id)},style:{padding:e.spacing.sm,backgroundColor:e.colors.background.default,border:`1px solid ${e.colors.border.default}`,borderRadius:e.borderRadius.sm,marginBottom:e.spacing.xs,cursor:a?"default":"grab",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("span",{children:[l.name," (",l.type,")"]}),!a&&t.jsx(w,{variant:"icon",size:"sm",onClick:()=>m(l.id),title:"Delete Field",children:t.jsx(j,{name:"fa-solid fa-trash",size:"sm"})})]},l.id)):t.jsx("p",{style:e.typography.caption,children:"No fields defined."})})]})};C.__docgenInfo={description:"Panel for managing field definitions (add, rename, delete)",methods:[],displayName:"FieldDefinitionPanel",props:{fields:{required:!0,tsType:{name:"Array",elements:[{name:"EduFieldDefinition"}],raw:"EduFieldDefinition[]"},description:""},setFields:{required:!0,tsType:{name:"signature",type:"function",raw:"(fields: EduFieldDefinition[] | ((prevFields: EduFieldDefinition[]) => EduFieldDefinition[])) => void",signature:{arguments:[{type:{name:"union",raw:"EduFieldDefinition[] | ((prevFields: EduFieldDefinition[]) => EduFieldDefinition[])",elements:[{name:"Array",elements:[{name:"EduFieldDefinition"}],raw:"EduFieldDefinition[]"},{name:"unknown"}]},name:"fields"}],return:{name:"void"}}},description:""},readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const P=h("div",{target:"e2iejtf4"})("display:flex;background-color:",e.colors.background.default,";border-radius:",e.borderRadius.lg,";border:1px solid ",e.colors.border.default,";overflow:hidden;height:80vh;min-height:600px;font-family:",e.typography.fontFamily,";@media (max-width: ",e.breakpoints.md,"){flex-direction:column;height:auto;}"),V=h("div",{target:"e2iejtf3"})("width:300px;flex-shrink:0;border-right:1px solid ",e.colors.border.default,";display:flex;flex-direction:column;background-color:",e.colors.background.toolbar,";padding:",e.spacing.md,";overflow-y:auto;@media (max-width: ",e.breakpoints.md,"){width:100%;border-right:none;border-bottom:1px solid ",e.colors.border.default,";}"),G=h("div",{target:"e2iejtf2"})("flex-grow:1;display:flex;flex-direction:column;padding:",e.spacing.md,";"),H=h("div",{target:"e2iejtf1"})("position:relative;background-color:",e.colors.background.default,";border:2px dashed ",e.colors.border.default,";border-radius:",e.borderRadius.md,";height:400px;width:100%;max-width:600px;margin-inline:auto;box-shadow:",e.shadows.sm,";overflow:hidden;"),U=h("div",{target:"e2iejtf0"})("position:absolute;padding:",e.spacing.sm,";border:1px solid ",e.colors.primary[60],";background-color:rgba(228, 243, 255, 0.7);color:",e.colors.primary[10],";font-size:",e.typography.bodySmall.fontSize,";border-radius:",e.borderRadius.sm,";cursor:",s=>s.isDragging?"grabbing":"grab",";user-select:none;display:flex;align-items:center;justify-content:center;box-sizing:border-box;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;z-index:10;"),W=({initialModelData:s,onSave:g,readOnly:a=!1})=>{const[o,c]=u.useState(s||{id:`model_${Date.now()}`,name:"",summary:"","edu:fields":[],"edu:cardTemplates":[{id:"front",name:"Front",layout:[]},{id:"back",name:"Back",layout:[]}]}),[d,b]=u.useState("Front"),y=u.useRef(null),m=u.useRef(null),l=i=>{c(r=>({...r,"edu:fields":typeof i=="function"?i(r["edu:fields"]):i}))},p=o["edu:cardTemplates"].find(i=>i.name===d),T=i=>{if(i.preventDefault(),a)return;const r=i.dataTransfer.getData("fieldId");if(!r||p.layout.some(f=>f.fieldId===r))return;const n=y.current.getBoundingClientRect(),x=i.clientX-n.left,v=i.clientY-n.top,F={fieldId:r,x:Math.max(0,x-75),y:Math.max(0,v-25),width:150,height:50};k([...p.layout,F])},E=(i,r)=>{if(a)return;const n=i.target;m.current={fieldId:r.fieldId,offsetX:i.clientX-n.getBoundingClientRect().left,offsetY:i.clientY-n.getBoundingClientRect().top},n.style.cursor="grabbing"},I=i=>{if(a||!m.current)return;i.preventDefault();const r=y.current.getBoundingClientRect();let n=i.clientX-r.left-m.current.offsetX,x=i.clientY-r.top-m.current.offsetY;const v=p.layout.find(f=>f.fieldId===m.current.fieldId);n=Math.max(0,Math.min(n,r.width-v.width)),x=Math.max(0,Math.min(x,r.height-v.height));const F=p.layout.map(f=>f.fieldId===m.current.fieldId?{...f,x:n,y:x}:f);k(F)},R=i=>{a||(m.current=null,i.target.style.cursor="grab")},k=i=>{c(r=>({...r,"edu:cardTemplates":r["edu:cardTemplates"].map(n=>n.name===d?{...n,layout:i}:n)}))},M=()=>{const i={...o,"edu:stylingCSS":"/* CSS would be generated here */"};g(i)};return t.jsxs(P,{children:[t.jsxs(V,{children:[t.jsx("h2",{style:{...e.typography.h4,marginTop:0},children:"Flashcard Template"}),a?t.jsxs(t.Fragment,{children:[t.jsx("h3",{style:{...e.typography.h6,margin:0},children:o.name}),t.jsx("p",{children:o.summary})]}):t.jsxs("div",{style:{marginBottom:e.spacing.md},children:[t.jsx(S,{label:"Model Name",value:o.name,onChange:i=>c({...o,name:i.target.value}),placeholder:"e.g., Vocabulary Card"}),t.jsx(S,{label:"Summary",value:o.summary,onChange:i=>c({...o,summary:i.target.value}),placeholder:"A brief description",style:{marginTop:e.spacing.sm}})]}),t.jsx(C,{fields:o["edu:fields"],setFields:l,readOnly:a})]}),t.jsxs(G,{children:[t.jsxs(N,{style:{justifyContent:"space-between",flexShrink:0,marginBottom:e.spacing.sm,backgroundColor:"white"},children:[t.jsx(L,{children:t.jsxs(w,{variant:"ghost",size:"sm",onClick:()=>b(d==="Back"?"Front":"Back"),style:{display:"flex",gap:"0.5rem"},active:d==="Front",children:[t.jsx(j,{name:"fa-solid fa-rotate",size:"sm"}),t.jsx("span",{children:d})]})}),!a&&t.jsx(w,{onClick:M,variant:"primary",size:"sm",children:"Save"})]}),t.jsx(H,{ref:y,onDrop:T,onDragOver:i=>i.preventDefault(),onMouseMove:I,onMouseUp:R,children:p.layout.map(i=>{const r=o["edu:fields"].find(n=>n.id===i.fieldId);return r?t.jsx(U,{style:{left:i.x,top:i.y,width:i.width,height:i.height},onMouseDown:n=>E(n,i),isDragging:m.current?.fieldId===i.fieldId,children:r.name},i.fieldId):null})})]})]})};W.__docgenInfo={description:"The main editor component",methods:[],displayName:"FlashcardModelEditor",props:{initialModelData:{required:!1,tsType:{name:"EduFlashcardModel"},description:""},onSave:{required:!0,tsType:{name:"signature",type:"function",raw:"(updatedModel: EduFlashcardModel) => void",signature:{arguments:[{type:{name:"EduFlashcardModel"},name:"updatedModel"}],return:{name:"void"}}},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{W as F,$ as T};
