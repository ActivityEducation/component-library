import{r as c,t as L,j as F}from"./iframe-RAegngwO.js";import{c as C}from"./emotion-styled-base.browser.esm-DWA-sfXA.js";import{C as P}from"./index-DWXvOp7D.js";const j=C("span",{target:"eiyrqu71"})("position:relative;cursor:pointer;text-decoration:underline;text-decoration-style:dotted;text-decoration-color:",t=>t.theme.colors.primary[40],";color:",t=>t.theme.colors.primary[40],";font-weight:",t=>t.theme.typography.button.fontWeight,";transition:all 0.2s ease-in-out;display:inline-block;&:hover{color:",t=>t.theme.colors.primary[50],";text-decoration-color:",t=>t.theme.colors.primary[50],";}");var z={name:"x3koge",styles:"opacity:1;pointer-events:auto;transform:none"};const W=C("div",{target:"eiyrqu70"})("position:",t=>t.isFixed?"fixed":"absolute",";z-index:1001;pointer-events:none;opacity:0;transition:opacity 0.2s ease-in-out,transform 0.2s ease-in-out;top:",t=>t.top!==void 0?`${t.top}px`:"auto",";left:",t=>t.left!==void 0?`${t.left}px`:"auto",";right:",t=>t.right!==void 0?`${t.right}px`:"auto",";bottom:",t=>t.bottom!==void 0?`${t.bottom}px`:"auto",";transform:",t=>t.transform||"translateY(10px)",";",t=>t.isVisible&&z,"&>div{max-width:300px;min-width:180px;padding:",t=>t.theme.spacing.md,";box-shadow:",t=>t.theme.shadows.lg,";}"),I=({children:t,content:Y,position:p="bottom",...S})=>{const[d,x]=c.useState(!1),[u,X]=c.useState({}),g=c.useRef(null),v=c.useRef(null),w=c.useRef(null),q=c.useCallback(()=>{w.current&&clearTimeout(w.current),x(!0)},[]),b=c.useCallback(()=>{w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{x(!1)},100)},[]),m=c.useCallback(()=>{if(!g.current||!v.current)return;const e=g.current.getBoundingClientRect(),o=v.current.getBoundingClientRect(),y=window.innerWidth||document.documentElement.clientWidth,E=window.innerHeight||document.documentElement.clientHeight,a=window.scrollX||window.pageXOffset,s=window.scrollY||window.pageYOffset,h=parseFloat(L.spacing.sm);let i,r,k,R,f,T=!1,n=p;if(p.startsWith("fix-"))switch(T=!0,p){case"fix-top-left":i=0,r=0;break;case"fix-top-right":i=0,k=0;break;case"fix-bottom-left":R=0,r=0;break;case"fix-bottom-right":R=0,k=0;break}else{switch(p){case"bottom":i=e.bottom+s+h,r=e.left+a+e.width/2-o.width/2,f="translateY(10px)";break;case"top":i=e.top+s-o.height-h,r=e.left+a+e.width/2-o.width/2,f="translateY(-10px)";break;case"right":i=e.top+s+e.height/2-o.height/2,r=e.right+a+h,f="translateX(10px)";break;case"left":i=e.top+s+e.height/2-o.height/2,r=e.left+a-o.width-h,f="translateX(-10px)";break}const l=10;(n==="bottom"||n==="top")&&r!==void 0&&(r<l+a?(r=e.right+a+h,f="translateX(10px)",n="right"):r+o.width>y+a-l&&(r=e.left+a-o.width-h,f="translateX(-10px)",n="left")),(n==="left"||n==="right"||n==="bottom"||n==="top")&&i!==void 0&&(i<l+s?(i=e.bottom+s+h,f="translateY(10px)",p==="top"&&(n="bottom")):i+o.height>E+s-l&&(i=e.top+s-o.height-h,f="translateY(-10px)",p==="bottom"&&(n="top"))),n==="top"||n==="bottom"?(r=e.left+a+e.width/2-o.width/2,r<l+a&&(r=l+a),r+o.width>y+a-l&&(r=y+a-l-o.width)):(n==="left"||n==="right")&&(i=e.top+s+e.height/2-o.height/2,i<l+s&&(i=l+s),i+o.height>E+s-l&&(i=E+s-l-o.height))}X({top:i,left:r,right:k,bottom:R,transform:f,isFixed:T})},[p,d,L.spacing.sm]);return c.useEffect(()=>(d?(m(),window.addEventListener("resize",m),window.addEventListener("scroll",m)):(window.removeEventListener("resize",m),window.removeEventListener("scroll",m)),()=>{window.removeEventListener("resize",m),window.removeEventListener("scroll",m)}),[d,m]),c.useEffect(()=>{const e=o=>{g.current&&!g.current.contains(o.target)&&v.current&&!v.current.contains(o.target)&&d&&b()};return d?(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)):(document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[d,b]),F.jsxs(j,{ref:g,onMouseEnter:q,onMouseLeave:b,onClick:e=>{("ontouchstart"in window||navigator.maxTouchPoints>0)&&(e.stopPropagation(),x(!d))},...S,children:[t,d&&F.jsx(W,{ref:v,isVisible:d,top:u.top,left:u.left,right:u.right,bottom:u.bottom,transform:u.transform,isFixed:u.isFixed,children:F.jsx(P,{children:Y})})]})};I.__docgenInfo={description:`A Flyover component that wraps text and, upon hover (desktop) or tap (mobile),
displays a \`Card\` containing additional content. Ideal for glossary terms,
definitions, or contextual information. The popover position is configurable
and includes automatic collision detection and flipping.`,methods:[],displayName:"Flyover",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The text content that triggers the flyover."},content:{required:!0,tsType:{name:"any"},description:"The content to be displayed inside the flyover card."},position:{required:!1,tsType:{name:"union",raw:"FlyoverPosition | any",elements:[{name:"union",raw:`| 'top'
| 'bottom'
| 'left'
| 'right'
| 'fix-top-left'
| 'fix-top-right'
| 'fix-bottom-left'
| 'fix-bottom-right'`,elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"},{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'fix-top-left'"},{name:"literal",value:"'fix-top-right'"},{name:"literal",value:"'fix-bottom-left'"},{name:"literal",value:"'fix-bottom-right'"}]},{name:"any"}]},description:`The preferred position of the popover relative to the trigger.
If the preferred position causes the popover to go off-screen,
it will automatically flip to an available side.
Fixed positions (e.g., 'fix-top-left') are relative to the viewport.
@default 'bottom'`,defaultValue:{value:"'bottom'",computed:!1}},css:{required:!1,tsType:{name:"SerializedStyles"},description:"Optional Emotion `css` prop for additional custom styles for the trigger text."}}};export{I as F};
